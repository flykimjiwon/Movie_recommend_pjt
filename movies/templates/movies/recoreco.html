{% extends 'base.html' %}

{% block content %}
<h1>추천영화</h1>

 <form action="{% url 'movies:result' %}" method="GET">    
 {% comment %} get으로해볼까 {% endcomment %}
{% comment %} {% csrf_token %} {% endcomment %}
        <input size="30" type="text" id="search" name="search" Placeholder="다시넣어주세용" value="보고싶은 장르를 넣어주세용" > 
       {% comment %} <input type="submit" value="작성"> {% endcomment %}
       <button type="submit" id="button">버튼</button>

  </form>

        <button type="button" id="button2">초기화</button>
        <ul>
        <li class="movie">모험</li>
        <li class="movie">판타지</li>
        <li class="movie">애니메이션</li>
        <li class="movie">드라마</li>
        <li class="movie">공포</li>
        <li class="movie">액션</li>
        <li class="movie">코미디</li>
        <li class="movie">역사</li>
        <li class="movie">서부</li>
        <li class="movie">스릴러</li>
        <li class="movie">범죄</li>
        <li class="movie">다큐멘터리</li>
        <li class="movie">SF</li>
        <li class="movie">미스터리</li>
        <li class="movie">음악</li>
        <li class="movie">로맨스</li>
        <li class="movie">가족</li>
        <li class="movie">전쟁</li>
        <li class="movie">TV 영화</li>
        </ul>


  

<script> 

{% comment %} alert('hello') {% endcomment %}
const search = document.querySelector('#search')
const btn2 = document.querySelector('#button2')
let arr = ''
const genre = document.querySelectorAll('.movie').forEach(item =>{
  item.addEventListener('click', event => {
    //console.log('hi')
    //console.log(item.innerText)
    arr+=item.innerText+','
    //arr+=item.innerText
    console.log(arr)
    search.value=arr
  })
})


btn2.addEventListener('click', function (event) {
       search.value=""
       arr=''
  })


</script>
{% endblock %}
